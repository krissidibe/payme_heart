<!DOCTYPE html>
<html lang="en">
  <head>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
<script>
  
</script>
  <style>
    :root
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&family=Inter:wght@400;600&display=swap');

    body {
      font-family: 'Poppins', sans-serif;;
    }
    .inter {
      font-family: 'Inter', sans-serif;
    }
    .poppin {
      font-family: 'Poppins', sans-serif;;
    }
    .page-header,
    .page-header-space {
      height: 100px;
    }

    .page-footer,
    .page-footer-space {
      height: 80px;
    }

    .page-footer {
      position: fixed;
      bottom: 80px;

      width: 100%;
      /* for demo */
      /* for demo */
    }

    

    .page-header {
      position: fixed;
      top: 0mm;
      width: 100%;
      border-bottom: 1px solid black; /* for demo */
      background: yellow; /* for demo */
    }

    .page {
      page-break-after: always;
      padding-bottom: 0px;
    }

    @page {
      margin: 0mm;
    }

    @media print {
      thead {
        display: table-header-group;
      }
      tfoot {
        display: table-footer-group;
      }

      button {
        display: none;
      }

      body {
        margin: 0;
      }
    }
    /* Facture Custom styling */
    .logo {
      background-color: #3E2256;
    }

    .tabs-item {
      margin: 0px 56px !important;
      padding: 0px !important;
      border-bottom: 0.1px solid #01010131;
     
    }

    .tabs .tabs-header {
      border-top: 1px solid #1d1d1d58;
      border-bottom: 1px solid #1d1d1d58;
      margin-left: 56px !important;
      width: 86.4% !important;
      padding: 4px 0px !important;
      margin-bottom: 20px;
    }
    
    .tabs > .tabs-item:nth-child(even) {
      
     

    }
    
    .facture-number-separator {
      
      background:#F0F0EF;
     

    }
    .separator {
      
      background: color-mix(in srgb, var(--primary-color,#E0892F) 10%, transparent);
     height: 1px;
      margin: 0px 56px !important;
      padding: 0px !important;

    }
    .facture-number {
      
     
 
    }

    .facture-number > p:last-child {
      
      border-color: var(--primary-text-color,white)  !important; 
          }

       
       

    .tabs-item  p:first-child {
   
      padding-left: 0px !important;
    }

    .tabs-item  div    {
   
    border: none !important;
    }


    .tabs-item > p:first-child {
      
    }
    .total  {
      padding-top: 10px !important;
       display: flex !important;
       flex-direction: column-reverse !important;
       margin-bottom: 0px !important;
    }

    .signature{
      padding-top: 5px !important;
    }
    .total .left  {

      padding: 20px  !important;
      margin-top: 20px !important;
      display: flex !important;
      width: 100% !important;
      max-width: 100% !important;
     background-color: #ebebeb;
     
      flex-direction: column !important;
      justify-content: center !important;
      justify-items: center !important;
      align-items: center !important;

      text-align: center;
    
   }

   .total .left *  {

  
  
 }
   
   .total .right  {
      gap: 0px !important;
      
     
 }
   .total .right p  {
      gap: 0px !important;
      padding: 10px 25px  !important;
    border-bottom: 1px solid black !important;
     
 }
   .total .right p:last-child  {
      
    border-bottom: 5px solid black !important;
     
 }
 
 .primary-bg  {
      
  background: color-mix(in srgb, var(--primary-color,#B02939) 100%, transparent);
  color: var(--primary-text-color,white);
  
   
}
.primary-bg *  {
      
  
  color: var(--primary-text-color,white) !important;
   
}
.primary-bg-50  {
      
  background:#F0F0EF;
   
}
   .total .right p:nth-child(odd)  {
      
    background:#F0F0EF;
    color: black;
 }
   .total .right p:nth-child(even)  {
      
    background:#F0F0EF;
    color:  black;
 }

 .remise{
  border:none !important;
  font-size: 12px !important;
 }
 
    .total .total-amount {
      background:  var(--primary-color,#B02939)  !important;
      color: var(--primary-text-color,white) !important;
       
      height: 35px !important;
      display: flex;
      align-items: center;
      
    }

 
    
    .footer-mark-last {
      
      width: 334px;
      height: 3px;
      position: absolute;
      top: -4px;
      left: 0;
      background:  var(--primary-color,#E0892F) !important;
    }
    .bg-primary {
      
     
      background:  var(--primary-color,#E0892F) !important;
    }

 
    .footer {
    
      color: black;
      bottom: 0;
    }

    
    .border-separator-footer  {
      height: 1px; 
    background:   black;
 }
  

    /* End Facture Custom styling */
  </style>
   
  <body>
    <div class="footer bottom-0 page-footer h-[60px] flex flex-col justify-start items-start inter">

      
        <p class="text-[11px] px-[98px]   pt-0 text-center line-clamp-4">
      
    
          <%= dataEnterpriseInfo %> 
      </p>
 
      <div class="w-[140px] border-separator-footer   absolute -top-[12px] translate-x-[250%] ">
       
      </div>
    </div>
    <!-- footer -->
    
    
    <table>
      <tbody>
         

        <tr>
          <td class="pages w-[827px]">
             
           


            <div class="flex flex-col w-full page-content">
             
              <!-- logo + facture -->
            
              <header class="heading flex justify-between mt-[38.95px] px-14 mb-10 ">
 
                <div class="max-h-[120px] flex object-left object-contain h-[120px] max-w-[300px] w-[300px]  ">
                  <img class=" max-h-[120px] object-left object-contain h-[120px] max-w-[300px] w-[300px] " src="<%=logo%>" alt="" srcset="">
                  
                                </div>

                               <div class="flex flex-col w-[360px] max-w-[360px]">
                                <div class=" h-[48px]   text-[15px] w-[360px] max-w-[360px] font-semibold  leading-2   border-b border-[#000]   inter mt-4 ">
                                  <div class="flex items-center font-normal leading-4 ">
                                    <% if(invoiceType == 0) { %>
                                      <p class="">PROFORMA</p>
                                    <% } %>
                                    <% if(invoiceType == 1) { %>
                                      <p class="">FACTURE</p>
                                    <% } %>
                                    <% if(invoiceType == 2) { %>
                                      <p class="" >BORDEREAU</p>
                                    <% } %> 
                                    <p class="ml-1 font-normal">N°: <span><%=project.invoiceNumber.toString().padStart(5, '0')%></span></p>
                                  </div>
                                  <p class="flex font-normal ">
                                    <span>Date:</span>
                                    <span class="ml-1"> <%=date%></span>
                                  </p>
                                 
                                </div>
                               <div>
                                <div class="headline inter leading-5 font-light mt-2 text-[16.4px] ">
                                  <p>Objet: <%= project.name %></p>
                                  <p>Client: <%=  customer.name %></p>
                                  <p>Adresse: <%=  customer.address %></p>
                                </div>                                
                               </div>
                               </div>
                             <!--    <div class="facture-number w-[175.66px] h-[160.125px] primary-bg z-50 absolute top-0 right-[75.6px] text-white font-semibold text-[23px] flex flex-col items-center justify-center inter ">
                                  <div class="mb-1 leading-6 ">
                                  
                                    <p class="font-normal">N°:  <span><%=project.invoiceNumber.toString().padStart(5, '0')%></span></p>
                                  </div>
                                  <p class="pt-1 border-t-[1px] border-white text-[13px] font-normal">Date: </p>
                                </div> -->
                             
                                <!-- <div class="facture-number  flex flex-col items-center my-[15px] font-light text-[23px] inter pr-4">
                                  <div class="leading-[24px] mb-1">
                                    <% if(invoiceType == 0) { %>
                                      <p>PROFORMA</p>
                                    <% } %>
                                    <% if(invoiceType == 1) { %>
                                      <p>FACTURE</p>
                                    <% } %>
                                    <% if(invoiceType == 2) { %>
                                      <p >BORDEREAU</p>
                                    <% } %> 
                                    <p >N°:  </p>
                                  </div>
              
                                  <div class=" h-[1px]  w-[200px] facture-number-separator" ></div>
                                  <% if(invoiceType == 0) { %>
                                  
                                    <p class="pt-1  border-t-[1px] font-light border-[#4D4B4C] text-[17px] flex justify-between">Date: <%=date%></p>
                                  <% } %> 
                                  <% if(invoiceType == 1) { %>
                                  
                                    <p class="pt-1  border-t-[1px] font-light border-[#4D4B4C] text-[14px] flex justify-between">Date: <%=date%></p>
                                  <% } %> 
                                  <% if(invoiceType == 2) { %>
                                  
                                    <p class="pt-1  border-t-[1px] font-light border-[#4D4B4C] text-[19px] flex justify-between">Date: <%=date%></p>
                                  <% } %> 
              
                                </div> -->
              </header>
              
              
              
               
              
               
          
              <!-- headline (object, address, client) -->
            

              <!-- table -->
              <main class="tabs flex flex-col mt-[21.43px] font-light ">
 
                <!-- table heading -->
                <div class="     tabs-items inter flex   text-[14.8px] mb-4   bg-black text-white px-[70px]  h-[40px] ">
                  <% if(invoiceType !== 2) { %>
                  <p class="flex-1  h-full rounded-tl-full rounded-bl-full      items-center flex  px-[15.29px] primary-bg">DESCRIPTION</p>
              
                    
                    
                    <p class="w-[120px]  pl-8  h-full  items-center flex primary-bg text-center">QTé.</p>
                    <p class="w-[120px]  pl-8  h-full  items-center flex primary-bg text-center"> <%=   invoiceType === 2 ? "Observation": " Prix.U" %></p>
                
                    <p class="w-[115px] pl-8  h-full  items-center rounded-tr-full rounded-br-full flex  primary-bg text-center"><%=   invoiceType === 2 ? "": "Montant" %> </p>
                    
                  <% } %> 
                  <% if(invoiceType === 2) { %>
                    <p class="min-w-[283px] w-[283px] rounded-tl-full rounded-bl-full    items-center primary-bg flex  flex-1  h-full    px-[15.29px]">DESCRIPTION</p>
                    <p class="w-[115px] pl-11   h-full  items-center flex primary-bg   text-center">QTé.</p>
                    <p class="flex items-center flex-1 h-full pl-8 mr-0 text-center rounded-tr-full rounded-br-full primary-bg max-w-auto"> <%=   invoiceType === 2 ? "Observation": " Prix.U" %></p>
                
               
                  <% } %> 
              
                  
                </div>
              
                <% table.forEach(function(item,index) { %>
                  
                <div class="px-6">
                  <div class="!px-[0px]  tabs-item    ">
                    <!-- table item -->
                    <div class="border-b-[0.1px]  border-[#1D1D1D]/20 text-[12px] flex w-full items-center gap-[5px] min-h-[50px]  px-0  py-[14px]">
                      <p class="flex-1"> <%=item.designation%> </p>
                  
                      <p class="w-[115px] py-[8.34px] text-center"> <%=item.quantity%> </p>
                  
                      <p class="w-[115px] py-[8.34px] text-center"> 
                        <% if(item.rate != 0 && item.rate != null) { %>
                          <%= invoiceType === 2 ? "": item.rate %>
                        
                        
                          <span class="ml-1"> <%=   invoiceType === 2 ? "": currency %></span> 
                          
                        <% } %> 
                  
                       
                    
                  
                      </p>
                      <p class="w-[115px] py-[8.34px] text-center">  
                        <% if(item.amount != 0 && item.amount != null) { %>
                        <%=   invoiceType === 2 ? "": item.amount %>
                      
                                      
                         
                          
                          <span class="ml-1"> <%=   invoiceType === 2 ? "": currency %></span>
                          
                          <% } %> 
                        </p>
                      
                      </div>
                      
                      
                      
                    </div>
                </div>
                    <% }) %>
              
              
               
                <div class="flex align-bottom empty-item">
                  <div class="w-full"></div>
                </div>
              </main>
              
              <div class=" separator" ></div>
                
             <div class="px-[25px] flex flex-col">
               <!-- facture totals informations -->
               <%- include('../subtemplates/total1d') %>

 <% if(invoiceType === 2) { %>
                  <div class="h-10"></div>
               
                  <% } %> 
               <!-- signature -->
               <%- include('../subtemplates/sign1') %>
             </div>

              <!-- footer -->
            </div>
          </td>
        </tr>
      </tbody>

      <tfoot>
        <tr>
          <td>
            <!--place holder for the fixed-position footer-->
            <div class="page-footer-space"></div>
          </td>
        </tr>
      </tfoot>
    </table>
  </body>
</html>









